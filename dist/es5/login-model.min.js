"use strict";var LoginModel=Model.extend({defaults:{app:"cot-app"},idAttribute:"sid",parse:function(e,t){return this.clear(),Model.prototype.parse.call(this,e,t)},login:function(){return this.isNew()?this.save(null,{headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}):this.verify()},logout:function(){var e,t=this;return this.isNew()?$.Deferred().resolve().promise():(e=this.get("userID"),this.destroy({headers:{Authorization:e}}).then(function(){t.reset()}).always(function(){return $.Deferred().resolve().promise()}))},verify:function(){var e=this;return this.isNew()?$.Deferred().reject().promise():this.fetch({headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).catch(function(){return e.logout().always(function(){return $.Deferred().reject().promise()})})}});
//# sourceMappingURL=login-model.min.js.map
