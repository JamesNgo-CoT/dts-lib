"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var Router=Backbone.Router.extend({beforeNextRouteCallback:null,hasRouted:!1,execute:function(e,r,t){var a=this;Promise.resolve().then(function(){return a.beforeNextRouteCallback?a.beforeNextRouteCallback.call(a,t):{}}).then(function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).preventDefault;return void 0!==t&&t?Promise.reject():e.call.apply(e,[a].concat(_toConsumableArray(r)))}).then(function(t){a.hasRouted||(a.hasRouted=!0),a.beforeNextRouteCallback=t||null},function(){a.hasRouted||(a.hasRouted=!0)})},lastFragment:null,route:function(t,e,r){var a,o=this,n=r||(e?"function"==typeof e?e:this[e]:null);return n&&n!==this.routeDefault&&(a=function(){o.lastFragment=Backbone.history.getFragment();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[o].concat(e))},r?r=a:e&&("function"==typeof e?e=a:"string"==typeof e&&(this[e]=a))),Backbone.Router.prototype.route.call(this,t,e,r)},defaultFragment:"home",routeDefault:function(){null!=this.lastFragment?this.navigate(this.lastFragment,{trigger:!1,replace:!0}):this.navigate(this.defaultFragment,{trigger:!0})},routes:{home:function(){},"*default":"routeDefault"}});
//# sourceMappingURL=router.min.js.map
