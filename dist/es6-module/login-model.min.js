import Model from"./model.js";const LoginModel=Model.extend({defaults:{app:"cot-app"},idAttribute:"sid",parse(e,t){return this.clear(),Model.prototype.parse.call(this,e,t)},login(){return this.isNew()?this.save(null,{headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}):this.verify()},logout(){if(this.isNew())return $.Deferred().resolve().promise();{const e=this.get("userID");return this.destroy({headers:{Authorization:e}}).then((()=>{this.reset()})).always((()=>$.Deferred().resolve().promise()))}},verify(){return this.isNew()?$.Deferred().reject().promise():this.fetch({headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"}}).catch((()=>this.logout().always((()=>$.Deferred().reject().promise()))))}});export default LoginModel;
//# sourceMappingURL=login-model.min.js.map
