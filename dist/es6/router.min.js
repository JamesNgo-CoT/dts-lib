const Router=Backbone.Router.extend({beforeNextRouteCallback:null,hasRouted:!1,execute(t,e,a){Promise.resolve().then((()=>this.beforeNextRouteCallback?this.beforeNextRouteCallback.call(this,a):{})).then((({preventDefault:a=!1}={})=>a?Promise.reject():t.call(this,...e))).then((t=>{this.hasRouted||(this.hasRouted=!0),this.beforeNextRouteCallback=t||null}),(()=>{this.hasRouted||(this.hasRouted=!0)}))},lastFragment:null,route(t,e,a){const o=a||(e?"function"==typeof e?e:this[e]:null);if(o&&o!==this.routeDefault){const t=(...t)=>(this.lastFragment=Backbone.history.getFragment(),o.call(this,...t));a?a=t:e&&("function"==typeof e?e=t:"string"==typeof e&&(this[e]=t))}return Backbone.Router.prototype.route.call(this,t,e,a)},defaultFragment:"home",routeDefault(){null!=this.lastFragment?this.navigate(this.lastFragment,{trigger:!1,replace:!0}):this.navigate(this.defaultFragment,{trigger:!0})},routes:{home:()=>{},"*default":"routeDefault"}});
//# sourceMappingURL=router.min.js.map
